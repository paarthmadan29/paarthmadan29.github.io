<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Content Manager</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        padding: 20px;
        max-width: 800px;
        margin: 0 auto;
      }
      .welcome-message {
        text-align: center;
        margin-bottom: 30px;
        padding: 20px;
        background-color: #f8f9fa;
        border-radius: 8px;
      }
      #nc-root {
        display: none;
      }
    </style>

    <!-- IMPORTANT: prevent auto init -->
    <script>
      window.CMS_MANUAL_INIT = true;
    </script>
  </head>

  <body>
    <div class="welcome-message">
      <h1>Welcome to the Content Management System</h1>
      <p>You're now entering the administration panel for your website.</p>
      <p>Click the button below to access the editor:</p>
      <button onclick="showCMS()" style="padding: 10px 20px; font-size: 16px; cursor: pointer; background-color: #3a86ff; color: white; border: none; border-radius: 4px;">Access Editor</button>
      <p><small>After authentication, you'll be able to create, edit, and delete posts.</small></p>
    </div>
    <div id="nc-root"></div>

    <!-- Load CMS AFTER body exists -->
    <script src="https://unpkg.com/netlify-cms@2.10.198/dist/netlify-cms.js"></script>

    <!-- Manually init -->
    <script>
      function showCMS() {
        document.querySelector('.welcome-message').style.display = 'none';
        document.getElementById('nc-root').style.display = 'block';
        if (window.CMS) {
          window.CMS.init();
        } else if (window.NetlifyCMS) {
          window.NetlifyCMS.init();
        }
      }
    </script>
  </body>
</html>
